@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Home"];
}

<div class="text-center">
    <h1 class="display-4">@Localizer["Welcome"]</h1>

    @if (!User.Identity.IsAuthenticated)
    {
        <div class="mt-4">
            <a class="btn btn-primary btn-lg" asp-area="Identity" asp-page="/Account/Login">
                @Localizer["Login"]
            </a>
            <a class="btn btn-secondary btn-lg" asp-area="Identity" asp-page="/Account/Register">
                @Localizer["Register"]
            </a>
        </div>
    }
    else
    {
        <div class="alert alert-info mt-4">
            <h5>@Localizer["LoggedInAs"] <strong>@User.Identity.Name</strong></h5>
        </div>

        <div class="mt-4">
            @if (User.IsInRole("Admin"))
            {
                <a class="btn btn-success btn-lg" asp-controller="Admin" asp-action="Dashboard">
                    @Localizer["AdminDashboard"]
                </a>
            }
            else if (User.IsInRole("Trainer"))
            {
                <a class="btn btn-success btn-lg" asp-controller="Trainer" asp-action="Dashboard">
                    @Localizer["TrainerDashboard"]
                </a>
            }
            else
            {
                <a class="btn btn-success btn-lg" asp-controller="User" asp-action="Dashboard">
                    @Localizer["UserDashboard"]
                </a>
            }

            <!-- FORM GECORRIGEERD -->
            <form asp-area="Identity" asp-page="/Account/Logout" method="post" class="d-inline">
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger btn-lg">
                    @Localizer["Logout"]
                </button>
            </form>
        </div>
    }
</div>

<!-- Taal selector -->
<div class="mt-5">
    <h5>@Localizer["SelectLanguage"]</h5>
    <div class="btn-group" role="group">
        <a asp-controller="Home"
           asp-action="SetLanguage"
           asp-route-culture="nl-BE"
           asp-route-returnUrl="@Context.Request.Path"
           class="btn btn-outline-primary">
            Nederlands
        </a>
        <a asp-controller="Home"
           asp-action="SetLanguage"
           asp-route-culture="fr-FR"
           asp-route-returnUrl="@Context.Request.Path"
           class="btn btn-outline-primary">
            Français
        </a>
        <a asp-controller="Home"
           asp-action="SetLanguage"
           asp-route-culture="en-US"
           asp-route-returnUrl="@Context.Request.Path"
           class="btn btn-outline-primary">
            English
        </a>
    </div>
</div>